## Pull ECR docker images

```
aws configure
AWS Access Key ID [None]: AKIAJPARFOQIKG2JAEMQ
AWS Secret Access Key [None]: 
Default region name [None]: ap-southeast-1	
Default output format [None]: 
```
Below is the command to do get the password

```
aws ecr get-login-password --region ap-southeast-1
```
View password on auth:

```
cat ~/.docker/config.json
```

And in your case you will have to write some script within a helper pod to do the below steps.
Get the login password and save it in a variable.

Delete you existing secret
```
kubectl delete secret regcred
```

Recreate secret with new password. copy password to this command
```
kubectl create secret docker-registry regcred --docker-server=589962364545.dkr.ecr.ap-southeast-1.amazonaws.com --docker-username=AWS --docker-password=eyJwYXlsb2FkIjoiZ0xxN1RDZGhUZklZVTFJNW8yOGZHb2pNVGxxYTJiQngweXFxQ1dZWHhsenRwaGhRMmx2OFE3NWJQOVYxdGkwR0E0cmRXMFh5L0Q0SjJ6bmFDU0ZEOXpPak9vWUF1QkpIRTNQQUNIaExQdUVjeUtSRW9YMmQwVmhBd0l6RndHandaUVMva2RYU2FKNWovZnZXYUpzSzBFUHFldjFxcEJ0VE55YUlmYzFPa0h6UTRsWWVtOFd2L2V1QTJiOXFwQmFIVHE5U1lrb3VkNE5nUXBYbDBwK1FMM3FzSC9DTVRFZ1VXZURRckRGNXBJRE1OZEdHRHNHd1hKem0yV01pNG9jQUtwbUVjUWdOYzZzTWsyS0ZOUFdGUFdoTWFjazY2TFZOYjljTDZWbVhpZW81bEhMOTZmTE5FUmxIUmhMR0lHdWZnZlhWaWlkc3drSFdiQ01mN1FRSms0V2x1NTZaTC9LcCswRDQweWUvRlpIMDFGN2JUV1JNMHpEN0hBdnlteTZHblJ5MFQ2VFZYUjdlN2dvUkRodkY0bUdCUkpnMmFkaTE3UEtiTnVvR3VLdVozcGJ5cWxLVVA0Z2lhYjVQaFJBT29wZ2d2WHhiREprMzF3S2ZuNWZQbUc1OEc5cGxxWEF2NTNpUnMrU3JUVUtmbjdxYll1SlhVKzZRSnA1N0RhYXMrYWlKNGJBQ2owekltZXFObGhNV1A0a2p1KzRkNmhRU2dROXhGb3lOK0VqRGRCZGVveEtDRExQdVAxb1NqMWVZTTBEaWxzOFp3a3hwNlJ0NVhmMWprVDg1VnFXZHFNMk95SG4rM2FiQ1F4bHFsdFd0aC9MQ0w2N0lmMWU0dnBReWZXWDFMdTV0cWFvelB5SVlpcENBd3NadEpyb2JpQUZyWVViS2I3SGVJdzZmK2U4ZmVibkVDbVEzbzgwL2JMKzBTcVNwRFVuUGNCak1kQ0RtSjJ3RHAwZENkb2Y5Zi9ZUWl5OUY1SDJ0eEJyYXU5ejhESGZ4VVBvRFdURGNydHlDZTRVcThlakFpOEJFeVdzUDFSRjNjemIrT0ppUS9kL2RpZXVxUDRINTVIaUEwNDZpNHExMFBUN3JYS0tiOHNCSFhpS0I1bEtqc3ZhaEZuaDJKK2xVNDZLbkdtaXhQWDBJSUhKekpIbE1YMVUwRXdYV2QrdDdabzZaelIranJZN05scGtBS0Z1WW92dGFEb1c0a3dWK1RiNDZ3aktKVEVJM2dwbjBTbkdqdkN3UmZ5dG1nVk5keDg1SWd2UDRrdWpZZ3pOcHJLZWk3TWhJM3RjOWRONHQ3OUdteGpUS2hDM2pnMGNuQ3BkRDBvaEcvemY5L0Y5MWJ2K0o4SVErVFVrT0JXTDRiYWZPY2hweU9uaytSaGZnSWRlVUtldlZ4U0xoejJ4cjZhUm9DQWRXaGpYcUtRYitjY1JaOU1NQXFsU2dFSVErVU9JcmxNYWpxVW5zWEFUSC9nbnRpU0ZKTHFvMFAzWldYUFhlQ0FVanhmMHNVWEoxZE9XdVIxbWhvOWk0Y3VGNVNsS3JmRFI2RDRCUDVpRjc0Qm9zanc1Z2QycnlxSXhmZ05SL2xHT1BDR1Y3KzkwMHNJcTN4VncwdTFnPSIsImRhdGFrZXkiOiJBUUVCQUhpZEVyWkNmaEtPZURNMDgrY1A1ZnR5anZROVhNTVNRNHBLMEZabnZBWlhKZ0FBQUg0d2ZBWUpLb1pJaHZjTkFRY0dvRzh3YlFJQkFEQm9CZ2txaGtpRzl3MEJCd0V3SGdZSllJWklBV1VEQkFFdU1CRUVEQTRVcldqS3puR2NIdFhjMFFJQkVJQTdzNEFLK0dXV2Z3alkydjUwQ0FSaGtKc0gyYUhoVlRGcklkMkF3R3ZuY25aMENmbjUzbFg0OGRVRld6RytZQ0hES3pTZUdiR29uRmNXbTM0PSIsInZlcnNpb24iOiIyIiwidHlwZSI6IkRBVEFfS0VZIiwiZXhwaXJhdGlvbiI6MTYwNDU5MzY3OX0=
```
You could try cronjob to reset this every <12 hours

